<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hangman - Spell It</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial Rounded MT Bold', sans-serif;
      background: linear-gradient(to top right, #a5d6c4, #cfd8dc);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    section {
      background-color: #fdf8f6;
      padding: 2rem;
      border-radius: 25px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      text-align: center;
      max-width: 400px;
      width: 90%;
    }

    header {
      font-size: 2rem;
      color: #4b8a79;
      margin-bottom: 1rem;
    }

    canvas {
      margin: 1rem 0;
      background-color: #fff;
      border-radius: 15px;
      border: 2px dashed #4b8a79;
    }

    p.word {
      font-size: 1.8rem;
      letter-spacing: 0.4rem;
      margin: 1rem 0;
    }

    nav button {
      margin: 0.3rem;
      padding: 0.6rem;
      background-color: #f4a340;
      border: none;
      border-radius: 10px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      width: 2.5rem;
    }

    footer {
      margin-top: 1rem;
      font-weight: bold;
      color: #888;
    }
  </style>
</head>
<body>
  <section>
    <header>HANGMAN</header>

    <canvas id="hangmanCanvas" width="200" height="150"></canvas>
    <p class="word" id="wordDisplay">_ _ _</p>

    <nav id="letters"></nav>

    <footer id="statusMsg">Guess the word!</footer>
  </section>

  <script>
    const words = ["CAT", "SUN", "DOG"];
    const word = words[Math.floor(Math.random() * words.length)];
    let guessed = [];
    let wrong = 0;

    const canvas = document.getElementById("hangmanCanvas");
    const ctx = canvas.getContext("2d");
    const display = document.getElementById("wordDisplay");
    const status = document.getElementById("statusMsg");

    const parts = [
      () => ctx.beginPath(), // head
      () => { ctx.arc(100, 30, 10, 0, Math.PI * 2); ctx.stroke(); },
      () => { ctx.moveTo(100, 40); ctx.lineTo(100, 80); ctx.stroke(); }, // body
      () => { ctx.moveTo(100, 50); ctx.lineTo(80, 70); ctx.stroke(); }, // left arm
      () => { ctx.moveTo(100, 50); ctx.lineTo(120, 70); ctx.stroke(); }, // right arm
      () => { ctx.moveTo(100, 80); ctx.lineTo(80, 100); ctx.stroke(); }, // left leg
      () => { ctx.moveTo(100, 80); ctx.lineTo(120, 100); ctx.stroke(); }  // right leg
    ];

    function drawNextPart() {
      if (wrong < parts.length) {
        parts[wrong++]();
      }
      if (wrong === parts.length) {
        status.textContent = `You lost! The word was ${word}`;
      }
    }

    function updateDisplay() {
      let output = "";
      for (let letter of word) {
        output += guessed.includes(letter) ? letter + " " : "_ ";
      }
      display.textContent = output.trim();
      if (!output.includes("_")) {
        status.textContent = "ðŸŽ‰ You Win!";
      }
    }

    function guessLetter(letter) {
      if (guessed.includes(letter) || wrong === parts.length) return;
      guessed.push(letter);
      if (word.includes(letter)) {
        updateDisplay();
      } else {
        drawNextPart();
      }
    }

    function createButtons() {
      const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      const nav = document.getElementById("letters");
      for (let char of letters) {
        const btn = document.createElement("button");
        btn.textContent = char;
        btn.onclick = () => {
          guessLetter(char);
          btn.disabled = true;
        };
        nav.appendChild(btn);
      }
    }

    // Draw stand
    ctx.moveTo(10, 140); ctx.lineTo(190, 140);
    ctx.moveTo(50, 140); ctx.lineTo(50, 10);
    ctx.lineTo(100, 10); ctx.lineTo(100, 20); ctx.stroke();

    updateDisplay();
    createButtons();
  </script>
</body>
</html>
